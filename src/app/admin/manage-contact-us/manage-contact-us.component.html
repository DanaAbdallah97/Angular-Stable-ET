<div class="container-fluid pt-4 px-4">
    <div class="bg-light text-center rounded p-4" style="margin-left:20%;">
        <h1 style="color: #1f2b7b;margin-left: -85%; font-weight: bold;">Contact Us</h1>
        <div class="d-flex align-items-center justify-content-between mb-4">
            <!-- <button class="bt btn-success" (click)="createcategory()">Create Category</button> -->
        </div>
        <div class="table-responsive">
            <table class="table text-start align-middle table-bordered table-hover mb-0">
                <thead>
                    <tr class="text-dark"  style="color:#1f2b7b!important">
                        <th scope="col">Message Subject </th>
                        <th scope="col">Message Body </th>
                        <th scope="col">Message Sender status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let obj of allMessages">
                        <td>{{obj.subject}}</td>
                        <td>{{obj.messagebody}}</td>
                        <td>{{obj.senderemail}}</td>
                        <td><button class="btn btn-sm btn-secondary" style="background-color: #1f2b7b;" (click)="openSendMessageDialog(obj.messagebody,obj.senderemail,obj.Password,obj.EmailFrom)">Send Email</button></td>                      
                        </tr>

                </tbody>
            </table>
        </div>
    </div>
</div>

<app-admindashboard></app-admindashboard>
<mat-dialog-content class="mat-typography">
    <ng-template #callSendEmailDialog>
        <!-- //(ngSubmit)="SendEmail()" -->
        <form [formGroup]="SendEmailForm" >
            <ul>
                <li>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label> enter EmailTo </mat-label>
                        <input type="text" matInput formControlName="EmailTo" [(ngModel)]="previousMessgae.EmailTo">
                    </mat-form-field>
                </li>

                <li>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>enter EmailFrom </mat-label>
                        <input type="text" matInput formControlName="EmailFrom"
                            [(ngModel)]="previousMessgae.EmailFrom" placeholder="enter the EmailFrom ">
                    </mat-form-field>
                </li>  

                <li>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>enter the Password </mat-label>
                        <input type="text" matInput formControlName="Password"
                            [(ngModel)]="previousMessgae.Password" placeholder="enter the Password ">
                    </mat-form-field>
                </li>   

                <li>
                    <mat-form-field class="example-full-width" appearance="fill">
                        <mat-label>enter the  textMsg</mat-label>
                        <input type="text" matInput formControlName="textMsg"
                            [(ngModel)]="previousMessgae.textMsg" placeholder="enter the textMsg ">
                    </mat-form-field>
                </li>         

            </ul>
            <button class= "btn btn-secondary"style="background-color: #1f2b7b;" (click)="callJWT()">Send Email</button>

        </form>

    </ng-template>